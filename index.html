<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<meta name="clckd" content="200980a091cea76f76c9abaed314530f" />

<title>Video</title>

<style>
body{
    margin:0;
    background:#000;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
}

video{
    width:100%;
    max-width:720px;
    background:#000;
}
</style>
</head>

<body>

<video id="videoPlayer" controls playsinline
poster="https://cdn.aceimg.com/c0e1e2597.jpg">
    <source src="https://cdn.videy.co/AErq7Nr31.mp4" type="video/mp4">
</video>

<script>
const video = document.getElementById("videoPlayer");

// key localStorage untuk tracking user
const storageKey = "adPlayed";
const adCooldown = 24 * 60 * 60 * 1000; // 24 jam

// cek localStorage
let adData = localStorage.getItem(storageKey);
let adOpened = false;

if (adData) {
    // parse data timestamp
    adData = JSON.parse(adData);
    const now = Date.now();
    if (now - adData.timestamp < adCooldown) {
        adOpened = true; // belum 24 jam, jangan tampilkan iklan
    }
}

// event play
video.addEventListener("play", function () {
    if (adOpened) return; // sudah tampil â†’ skip
    adOpened = true;

    // pause sebentar agar browser anggap interaksi valid
    video.pause();

    // buka iklan direct link
    setTimeout(() => {
        window.open("https://omg10.com/4/10286552", "_blank");

        // lanjutkan video otomatis
        setTimeout(() => {
            video.play().catch(() => {});
        }, 400);

        // simpan timestamp di localStorage
        localStorage.setItem(storageKey, JSON.stringify({ timestamp: Date.now() }));

    }, 120);

});
</script>

</body>
</html>
